//color theme
if (localStorage.getItem("theme") == 1) {
	document.querySelector('.color-theme-button').checked = false;
	colorTheme();
}

let language = 'en';

if (localStorage.getItem("language") == 'ru') {
	document.querySelector('.language-button').checked = false;
	ruTranslator();
}

let colorCounter = 0;
//document.querySelectorAll('.switch-b input').forEach(function (item) {
document.querySelectorAll('.switch-wrapper')[0].onclick = function () {
	colorCounter++;
	if (colorCounter % 2 == 0) {
		localStorage.getItem("theme") == 0
			? localStorage.setItem("theme", 1)
			: localStorage.setItem("theme", 0);
		colorTheme();
	}
}

let lang = 0;
document.querySelector('.switch-language').onclick = (() => {
	lang++;
	if (lang % 2 == 0) {
		language == 'en' ? ruTranslator() : enTranslator()
	}
});


function ruTranslator() {
	document.querySelector('header > div.container-fluid > div:nth-child(1) > div.col-sm-2.offset-sm-9.col-2.offset-8.switch-wrapper.color-theme-wrapper > label > div').innerText = 'Цветная тема'
	document.querySelector('header > div.container-fluid > div:nth-child(1) > div.col-sm-2.offset-sm-9.col-2.offset-8.switch-wrapper.color-theme-wrapper > label > div').classList.add('switch-desk-ru')

	document.querySelector('.switch-desk-lang').innerText = 'Russian'
	document.querySelector('.first-section .h1').innerText = 'Добро Пожаловать';
	document.querySelector('.first-section .h1').style.letterSpacing = '-0.035em'
	document.querySelector('.first-section .h1').style.fontSize = '64px'
	document.querySelector('.first-section .h3').style.fontSize = '28px'
	document.querySelector('.first-section .h3').innerText = 'Здесь собрана небольшая коллекция работ и немного о себе';
	document.querySelector('.below-first-screen').innerText = 'Ниже представлены cайты и не только, которые мне довелось делать'

	document.querySelectorAll('.brk-btn').forEach(it => it.innerText = 'Посетить');

	document.querySelector('.portfolio > div:nth-child(1) > div > div > h2').innerText = 'Моя библиотека'
	document.querySelector('.portfolio > div:nth-child(1) > div > div > div > h3').innerText = 'Здесь я собрал разные программы, игры и другие прикольные штуки, которые делал. Некоторые действительно интересные на мой взгляд.'
	document.querySelector('.portfolio > div:nth-child(2) > div > div > h2').innerText = 'Магазин на React.js'
	document.querySelector('.portfolio > div:nth-child(2) > div > div > div > h3').innerText = 'Закончил несколько курсов по React.js и решил закрепить свои знания и сделал интернет магазин на Реакте.'
	document.querySelector('.portfolio > div:nth-child(3) > div > div > h2').innerText = 'Верстка сайта'
	document.querySelector('.portfolio > div:nth-child(3) > div > div > div > h3').innerText = 'Сделал верстку лендинга в качестве тренировки. Добавил адаптивность и навигацию по меню.'
	document.querySelector('.portfolio > div:nth-child(4) > div > div > div > h3').innerHTML = 'Прошел <a class="href" target="_blank" href = "https://www.youtube.com/playlist?list=PLqGj3iMvMa4IyCbhul-PdeiDqmh4ooJzk" > серию видео с канала DevTips</a > и научился делать очень прикольные параллакс эффекты.Автор делал все на jQuery, я делал все параллельно с ним, но на нативном JS.От себя добавил поддержку тёмной темы.Чтобы сменить тему нужно, нажать на логотип в правом верхнем меню.'
	document.querySelector('.portfolio > div:nth-child(5) > div > div > h2').innerText = 'Инстаграм бот'
	document.querySelector('.portfolio > div:nth-child(5) > div > div > div > h3').innerText = 'Когда изучал NodeJS, написал удовольствия ради Инстаграм бот. Он собирает массив людей лайкнувших любой пост, и проходит по ним, может ставить лайки, подписываться, писать комментарии. Я тестил на фейковом аккаунте пару недель и набрал 2к подписчиков. Это отличная штука для интернет магазинов. Если интересно, я оставил ссылку на GitHub.'

	document.querySelector('.my-skills-title').innerText = 'Мои Навыки'
	document.querySelector('.connect-title').innerText = 'Для связи'
	document.querySelector('.end-desc').innerText = 'Спасибо за внимание'

	language = 'ru';
	localStorage.setItem("language", 'ru');
}
function enTranslator() {
	document.querySelector('header > div.container-fluid > div:nth-child(1) > div.col-sm-2.offset-sm-9.col-2.offset-8.switch-wrapper.color-theme-wrapper > label > div').innerText = 'Color theme'
	document.querySelector('header > div.container-fluid > div:nth-child(1) > div.col-sm-2.offset-sm-9.col-2.offset-8.switch-wrapper.color-theme-wrapper > label > div').classList.remove('switch-desk-ru')
	document.querySelector('.switch-desk-lang').innerText = 'English'
	document.querySelector('.first-section .h1').innerText = 'Welcome';
	document.querySelector('.first-section .h1').style.letterSpacing = '0'
	document.querySelector('.first-section .h1').style.fontSize = '71px'
	document.querySelector('.first-section .h3').style.fontSize = '31px'
	document.querySelector('.first-section .h3').innerText = 'Here is a collection of works and about myself';
	document.querySelector('.below-first-screen').innerText = 'Below are the sites and not only that I did'

	document.querySelectorAll('.brk-btn').forEach(it => it.innerText = 'visit');

	document.querySelector('.portfolio > div:nth-child(1) > div > div > h2').innerText = 'My Library'
	document.querySelector('.portfolio > div:nth-child(1) > div > div > div > h3').innerText = 'Here I collected programs, games and other cool stuff that I did. Some really interesting in my opinion.'
	document.querySelector('.portfolio > div:nth-child(2) > div > div > h2').innerText = 'Store on React.js'
	document.querySelector('.portfolio > div:nth-child(2) > div > div > div > h3').innerText = 'I completed several courses on React.js and decided to consolidate my knowledge and made an online store on React.'
	document.querySelector('.portfolio > div:nth-child(3) > div > div > h2').innerText = 'Layout'
	document.querySelector('.portfolio > div:nth-child(3) > div > div > div > h3').innerText = 'Made layout of the landing page as a workout. Added adaptability and menu navigation.'
	document.querySelector('.portfolio > div:nth-child(4) > div > div > div > h3').innerHTML = 'Passed <a class="href" target="_blank" href="https://www.youtube.com/playlist?list=PLqGj3iMvMa4IyCbhul-PdeiDqmh4ooJzk">course from channel Devtips</a> and learned to make very cool parallax effects. The author did everything in jQuery, I did everything parallel to it, but on native JS. I added support for a dark theme from myself. To change the subject you need click on the logo in the upper right menu.'

	document.querySelector('.portfolio > div:nth-child(5) > div > div > h2').innerText = 'Instagram Bot'
	document.querySelector('.portfolio > div:nth-child(5) > div > div > div > h3').innerText = 'When I studied NodeJS, I wrote Instagram bot. He collects an array of people who like any post, and goes through them, can like, subscribe, write comments. I tested on a fake account for a couple of weeks and scored 2k subscribers. This is a great thing for online stores. If interested, I left a link to GitHub.'

	document.querySelector('.my-skills-title').innerText = 'My Skills'
	document.querySelector('.connect-title').innerText = 'For connection'
	document.querySelector('.end-desc').innerText = 'Thanks for attention'

	language = 'en';
	localStorage.setItem("language", 'en');
}


function colorTheme() {
	document.querySelectorAll('.slider-b').forEach(it => it.classList.toggle('slider-b-white'));
	document.querySelector('body').classList.toggle('white-bg');
	document.querySelector('body').classList.toggle('scroll-white');
	document.querySelectorAll('.brk-btn').forEach(item => item.classList.toggle('brk-btn-black'))
	document.querySelectorAll('.fa-check').forEach(item => item.classList.toggle('fa-white'))
	document.querySelectorAll('.contact').forEach(item => item.classList.toggle('contact-white'))
	document.querySelectorAll('.fa-phone')[1].classList.toggle('fa-phone-white');
	document.querySelector('.white-end div').classList.toggle('end-desc-white')
}

// First Screen Appear
window.onload = function () {
	let x = 0;
	let y = 0.0001;
	let start = false;
	let w = 0;
	let z = 0.0001;

	let welcome1 = setInterval(() => {
		document.querySelector('.first-section .h1').style.opacity = y;
		x += 0.00017
		y += x;
		if (y >= 0.23) start = true;
		if (y >= 1) clearInterval(welcome1);
	}, 16);

	let welcome2 = setInterval(() => {
		if (start) {
			document.querySelector('.first-section .h3').style.opacity = z;
			w += 0.000006
			z += w;
			if (z >= 1) clearInterval(welcome2);
		}
	}, 2)
}

// Color End height

let pageHeight = document.documentElement.clientHeight;

document.querySelector('.end-desc').style.paddingBottom = `${pageHeight / 2}px`;
document.querySelector('.end-desc').style.marginTop = `${pageHeight / 2}px`;


window.onscroll = function (e) {
	let wScroll = document.documentElement.scrollTop;
	let pageHeight = document.documentElement.clientHeight;

	// document.querySelector('.end-desc').style.paddingBottom = `${pageHeight / 2}px`;
	// document.querySelector('.end-desc').style.marginTop = `${pageHeight / 2}px`;

	//opacity by appear
	if (document.querySelector(".first-desc").getBoundingClientRect().top > 200) {
		document.querySelector(".first-desc").style.opacity = Math.abs(
			document.querySelector(".first-desc").getBoundingClientRect().top - pageHeight
		) / 300;
	}

	if (document.querySelector(".first-desc").getBoundingClientRect().top < 200 &&
		document.querySelector(".first-desc").getBoundingClientRect().top > - 1000) {
		document.querySelector(".first-desc").style.opacity =
			(document.querySelector(".first-desc").getBoundingClientRect().top + 100) / 200
	}

	// animate
	document.querySelectorAll('.anime-dis').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight - 0) < 0) item.classList.add('anime');
	})

	document.querySelectorAll('.anime-second-dis').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight - 0) < 0) {
			setTimeout(() => item.classList.add('anime'), 250)
		}
	})

	if (document.querySelector('.anime-right').getBoundingClientRect().top - (pageHeight - 100) < 0) {
		document.querySelectorAll('.anime-right').forEach(function (item, i) {
			item.classList.add('anime');
			item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
		})
	}

	// if (document.querySelector('.anime-left-connect').getBoundingClientRect().top - (pageHeight) < 0) {
	// 	document.querySelectorAll('.anime-left-connect').forEach(function (item, i) {
	// 		item.classList.add('anime-left-connect-on');
	// 		item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
	// 	})
	// }

	// if (document.querySelector('.anime-right-connect').getBoundingClientRect().top - (pageHeight) < 0) {
	// 	document.querySelectorAll('.anime-right-connect').forEach(function (item, i) {
	// 		item.classList.add('anime-right-connect-on');
	// 		item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
	// 	})
	// }

	// color end
	document.querySelectorAll('.white-end').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
			document.body.classList.add('wb');
			setTimeout(() => document.querySelector('.end-desc').classList.add('edn-desc-see'), 1050)
		} else {
			document.body.classList.remove('wb');
			document.querySelector('.end-desc').classList.remove('edn-desc-see');
		}
	})

	if (localStorage.getItem("theme") == 0) {
		document.querySelectorAll('.white-end').forEach(function (item) {
			if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
				document.querySelector('.end-desc').style.transition = `4.3s ease`;
				document.body.classList.add('wb');
				setTimeout(() => document.querySelector('.end-desc').classList.add('edn-desc-see'), 1900)
			} else {
				document.body.classList.remove('wb');
				document.querySelector('.end-desc').classList.remove('edn-desc-see');
			}
		})
	}

	if (localStorage.getItem("theme") == 1) {
		document.querySelectorAll('.white-end').forEach(function (item) {
			if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
				document.querySelector('.end-desc').style.transition = `4.3s ease`;
				document.body.classList.add('wb-white');
				setTimeout(() => document.querySelector('.end-desc-white').classList.add('edn-desc-see'), 1900)
			} else {
				document.body.classList.remove('wb-white');
				document.querySelector('.end-desc-white').classList.remove('edn-desc-see');
			}
		})
	}
}

// navigate phone
document.querySelector('.first-section-fa').onclick = function () {
	let pos = document.querySelector('.connect').getBoundingClientRect().top;
	window.scrollBy(0, pos - 100);
}



