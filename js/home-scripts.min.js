//color theme

if (localStorage.getItem("theme") == 1) {
	document.querySelector('.color-theme-button').checked = false;
	colorTheme();
}

const switchB = document.querySelectorAll('.switch-b input').forEach(function (item) {
	item.onchange = function () {
		localStorage.getItem("theme") == 0
			? localStorage.setItem("theme", 1)
			: localStorage.setItem("theme", 0);
		colorTheme();
	}
});

function colorTheme() {
	document.querySelector('body').classList.toggle('white-bg');
	document.querySelector('body').classList.toggle('scroll-white');
	document.querySelectorAll('.brk-btn').forEach(function (item) {
		item.classList.toggle('brk-btn-black');
	})
	document.querySelectorAll('.fa-check').forEach(function (item) {
		item.classList.toggle('fa-white');
	})
	document.querySelectorAll('.contact').forEach(function (item) {
		item.classList.toggle('contact-white');
	})
	document.querySelectorAll('.fa-phone')[1].classList.toggle('fa-phone-white');
	document.querySelector('.white-end div').classList.toggle('end-desc-white')
}

// First Screen Appear

window.onload = function () {
	(function () {
		let x = 0;
		let y = 0.0001;
		let start = false;
		let w = 0;
		let z = 0.0001;

		let welcome1 = setInterval(() => {
			document.querySelector('.first-section .h1').style.opacity = y;
			x += 0.00017
			y += x;
			if (y >= 0.23) start = true;
			if (y >= 1) clearInterval(welcome1);
		}, 16);

		let welcome2 = setInterval(() => {
			if (start) {
				document.querySelector('.first-section .h3').style.opacity = z;
				w += 0.000006
				z += w;
				if (z >= 1) clearInterval(welcome2);
			}
		}, 2)
	})();
}

// Color End height

let pageHeight = document.documentElement.clientHeight;

document.querySelector('.end-desc').style.paddingBottom = `${pageHeight / 2}px`;
document.querySelector('.end-desc').style.marginTop = `${pageHeight / 2}px`;


window.onscroll = function (e) {
	let wScroll = document.documentElement.scrollTop;
	let pageHeight = document.documentElement.clientHeight;

	// document.querySelector('.end-desc').style.paddingBottom = `${pageHeight / 2}px`;
	// document.querySelector('.end-desc').style.marginTop = `${pageHeight / 2}px`;

	//опасити при появлении
	if (document.querySelector(".first-desc").getBoundingClientRect().top > 200) {
		document.querySelector(".first-desc").style.opacity = Math.abs(
			document.querySelector(".first-desc").getBoundingClientRect().top -
			pageHeight
		) / 300;
	}

	if (document.querySelector(".first-desc").getBoundingClientRect().top < 200 &&
		document.querySelector(".first-desc").getBoundingClientRect().top > - 1000) {
		document.querySelector(".first-desc").style.opacity =
			(document.querySelector(".first-desc").getBoundingClientRect().top + 100) / 200
	}

	// animate
	document.querySelectorAll('.anime-dis').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight - 0) < 0) {
			item.classList.add('anime');
		}
	})

	document.querySelectorAll('.anime-second-dis').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight - 0) < 0) {
			setTimeout(function () {
				item.classList.add('anime');
			}, 250)
		}
	})

	if (document.querySelector('.anime-right').getBoundingClientRect().top - (pageHeight - 100) < 0) {
		document.querySelectorAll('.anime-right').forEach(function (item, i) {
			item.classList.add('anime');
			item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
		})
	}

	if (document.querySelector('.anime-left-connect').getBoundingClientRect().top - (pageHeight) < 0) {
		document.querySelectorAll('.anime-left-connect').forEach(function (item, i) {
			item.classList.add('anime-left-connect-on');
			item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
		})
	}

	if (document.querySelector('.anime-right-connect').getBoundingClientRect().top - (pageHeight) < 0) {
		document.querySelectorAll('.anime-right-connect').forEach(function (item, i) {
			item.classList.add('anime-right-connect-on');
			item.style.transitionDelay = `${(i / 8.3) + 0.1}s`;
		})
	}

	// color end
	document.querySelectorAll('.white-end').forEach(function (item) {
		if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
			document.body.classList.add('wb');
			setTimeout(function () {
				document.querySelector('.end-desc').classList.add('edn-desc-see');
			}, 1600)
		} else {
			document.body.classList.remove('wb');
			document.querySelector('.end-desc').classList.remove('edn-desc-see');
		}
	})

	if (localStorage.getItem("theme") == 0) {
		document.querySelectorAll('.white-end').forEach(function (item) {
			if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
				document.querySelector('.end-desc').style.transition = `4.3s ease`;
				document.body.classList.add('wb');
				setTimeout(function () {
					document.querySelector('.end-desc').classList.add('edn-desc-see');
				}, 1900)
			} else {
				document.body.classList.remove('wb');
				document.querySelector('.end-desc').classList.remove('edn-desc-see');
			}
		})
	}

	if (localStorage.getItem("theme") == 1) {
		document.querySelectorAll('.white-end').forEach(function (item) {
			if (item.getBoundingClientRect().top - (pageHeight / 1.8) < 0) {
				document.querySelector('.end-desc').style.transition = `4.3s ease`;
				document.body.classList.add('wb-white');
				setTimeout(function () {
					document.querySelector('.end-desc-white').classList.add('edn-desc-see');
				}, 1900)
			} else {
				document.body.classList.remove('wb-white');
				document.querySelector('.end-desc-white').classList.remove('edn-desc-see');
			}
		})
	}

}

// navigate phone

document.querySelector('.first-section-fa').onclick = function () {
	let pos = document.querySelector('.connect').getBoundingClientRect().top;
	window.scrollBy(0, pos - 100);
}



