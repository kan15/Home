let pageHeight=document.documentElement.clientHeight;function dirScroll(e,t){t<e.getBoundingClientRect().top?scroll(e,1,t):scroll(e,-1,t)}function scroll(e,t,n){let o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=o;const s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);let i=(new Date).getTime(),l=function(){let r=e.getBoundingClientRect().top-n,c=(new Date).getTime()-i,a=Math.round(r*c/2e3);a=a>t*r?r:0==a?t:a,t*r>0&&s-window.pageYOffset>t*document.documentElement.clientHeight&&(window.scrollBy(0,a),o(l))};o(l)}function drawTetris(){document.querySelector(".overlay"),document.querySelector(".modal");let e=document.createElement("div");e.classList.add("tetris");for(let t=1;t<181;t++){let t=document.createElement("div");t.classList.add("excel"),e.appendChild(t)}document.querySelectorAll(".main")[0].appendChild(e);let t=document.querySelectorAll(".excel"),n=1,o=18;for(let e=0;e<t.length;e++)n>10&&(n=1,o--),t[e].setAttribute("posX",n),t[e].setAttribute("posY",o),n++}function startGame(e){for(let e=1;e<11;e++)for(let t=1;t<16;t++)document.querySelector(`[posX = "${e}"][posY = "${t}"]`).classList.remove("set");let t=!1;document.querySelector(".overlay"),document.querySelector(".modal");document.createElement("div").classList.add("tetris");let n=5,o=15,s=[[[0,1],[0,2],[0,3],[[-1,1],[0,0],[1,-1],[2,-2]],[[1,-1],[0,0],[-1,1],[-2,2]],[[-1,1],[0,0],[1,-1],[2,-2]],[[1,-1],[0,0],[-1,1],[-2,2]]],[[1,0],[0,1],[1,1],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]]],[[1,0],[0,1],[0,2],[[0,0],[-1,1],[1,0],[2,-1]],[[1,-1],[1,-1],[-1,0],[-1,0]],[[-1,0],[0,-1],[2,-2],[1,-1]],[[0,-1],[0,-1],[-2,0],[-2,0]]],[[1,0],[1,1],[1,2],[[0,0],[0,0],[1,-1],[-1,-1]],[[0,-1],[-1,0],[-2,1],[1,0]],[[2,0],[0,0],[1,-1],[1,-1]],[[-2,0],[1,-1],[0,0],[-1,1]]],[[1,0],[-1,1],[0,1],[[0,-1],[-1,0],[2,-1],[1,0]],[[0,0],[1,-1],[-2,0],[-1,-1]],[[0,-1],[-1,0],[2,-1],[1,0]],[[0,0],[1,-1],[-2,0],[-1,-1]]],[[1,0],[1,1],[2,1],[[2,-1],[0,0],[1,-1],[-1,0]],[[-2,0],[0,-1],[-1,0],[1,-1]],[[2,-1],[0,0],[1,-1],[-1,0]],[[-2,0],[0,-1],[-1,0],[1,-1]]],[[1,0],[2,0],[1,1],[[1,-1],[0,0],[0,0],[0,0]],[[0,0],[-1,0],[-1,0],[1,-1]],[[1,-1],[1,-1],[1,-1],[0,0]],[[-2,0],[0,-1],[0,-1],[-1,-1]]]],i=0,l=0,r=1;function c(){r=1,i=Math.round(Math.random()*(s.length-1)),l=[document.querySelector(`[posX = "${n}"][posY = "${o}"]`),document.querySelector(`[posX = "${n+s[i][0][0]}"][posY = "${o+s[i][0][1]}"]`),document.querySelector(`[posX = "${n+s[i][1][0]}"][posY = "${o+s[i][1][1]}"]`),document.querySelector(`[posX = "${n+s[i][2][0]}"][posY = "${o+s[i][2][1]}"]`)];for(let e=0;e<l.length;e++)l[e].classList.add("figure")}c();let a=0,u=document.querySelector(".input-tetris");function d(){let e=!0,n=[[l[0].getAttribute("posX"),l[0].getAttribute("posY")],[l[1].getAttribute("posX"),l[1].getAttribute("posY")],[l[2].getAttribute("posX"),l[2].getAttribute("posY")],[l[3].getAttribute("posX"),l[3].getAttribute("posY")]];for(let t=0;t<n.length;t++)if(1==n[t][1]||document.querySelector(`[posX = "${n[t][0]}"][posY = "${n[t][1]-1}"]`).classList.contains("set")){e=!1;break}if(e){for(let e=0;e<l.length;e++)l[e].classList.remove("figure");l=[document.querySelector(`[posX = "${n[0][0]}"][posY = "${n[0][1]-1}"]`),document.querySelector(`[posX = "${n[1][0]}"][posY = "${n[1][1]-1}"]`),document.querySelector(`[posX = "${n[2][0]}"][posY = "${n[2][1]-1}"]`),document.querySelector(`[posX = "${n[3][0]}"][posY = "${n[3][1]-1}"]`)];for(let e=0;e<l.length;e++)l[e].classList.add("figure")}else{for(let e=0;e<l.length;e++)l[e].classList.remove("figure"),l[e].classList.add("set");for(let e=1;e<15;e++){let t=0;for(let n=1;n<11;n++)if(document.querySelector('[posX = "'+n+'"][posY = "'+e+'"]').classList.contains("set")&&10==++t){a+=10,u.value=`Ваш счет: ${a}`;for(let t=1;t<11;t++)document.querySelector(`[posX = "${t}"][posY = "${e}"]`).classList.remove("set");let t=document.querySelectorAll(".set"),n=[];for(let o=0;o<t.length;o++){let s=[t[o].getAttribute("posX"),t[o].getAttribute("posY")];s[1]>e&&(t[o].classList.remove("set"),n.push(document.querySelector(`[posX = "${s[0]}"][posY = "${s[1]-1}"]`)))}for(let e=0;e<n.length;e++)n[e].classList.add("set");e--}}for(let e=1;e<11;e++)if(document.querySelector(`[posX = "${e}"][posY = "15"]`).classList.contains("set")){clearInterval(p),alert(`Игра окончена. Ваш Счёт: ${a}`),t=!0,tetrisIsCall=!1,document.onkeydown=null;break}c()}}u.value=`Ваш счет: ${a}`;let p=setInterval(()=>{d()},e),h=!0;window.addEventListener("keydown",function(e){let n=[l[0].getAttribute("posX"),l[0].getAttribute("posY")],o=[l[1].getAttribute("posX"),l[1].getAttribute("posY")],c=[l[2].getAttribute("posX"),l[2].getAttribute("posY")],a=[l[3].getAttribute("posX"),l[3].getAttribute("posY")];function u(e){h=!0;let t=[document.querySelector(`[posX = "${+n[0]+e}"][posY = "${+n[1]}"]`),document.querySelector(`[posX = "${+o[0]+e}"][posY = "${+o[1]}"]`),document.querySelector(`[posX = "${+c[0]+e}"][posY = "${+c[1]}"]`),document.querySelector(`[posX = "${+a[0]+e}"][posY = "${+a[1]}"]`)];for(let e=0;e<t.length;e++)t[e]&&!t[e].classList.contains("set")||(h=!1);if(1==h){for(let e=0;e<l.length;e++)l[e].classList.remove("figure");l=t;for(let e=0;e<l.length;e++)l[e].classList.add("figure")}}if(!t)if(65==e.keyCode||37==e.keyCode)u(-1);else if(68==e.keyCode||39==e.keyCode)u(1);else if(83==e.keyCode||40==e.keyCode)d();else if(87==e.keyCode||38==e.keyCode){h=!0;let e=[document.querySelector(`[posX = "${+n[0]+s[i][r+2][0][0]}"][posY = "${+n[1]+s[i][r+2][0][1]}"]`),document.querySelector(`[posX = "${+o[0]+s[i][r+2][1][0]}"][\n\t\t\t\t\t\t\t\t\t\tposY = "${+o[1]+s[i][r+2][1][1]}"]`),document.querySelector(`[posX = "${+c[0]+s[i][r+2][2][0]}"][\n\t\t\t\t\t\t\t\t\t\tposY = "${+c[1]+s[i][r+2][2][1]}"]`),document.querySelector(`[posX = "${+a[0]+s[i][r+2][3][0]}"][\n\t\t\t\t\t\t\t\t\t\tposY = "${+a[1]+s[i][r+2][3][1]}"]`)];for(let t=0;t<e.length;t++)e[t]&&!e[t].classList.contains("set")||(h=!1);if(1==h){for(let e=0;e<l.length;e++)l[e].classList.remove("figure");l=e;for(let e=0;e<l.length;e++)l[e].classList.add("figure")}r<4?r++:r=1}})}document.querySelector(".end-desc").style.paddingBottom=`${pageHeight/2-30}px`,document.querySelector(".end-desc").style.marginTop=`${pageHeight/2+30}px`,window.onscroll=function(e){document.documentElement.scrollTop;let t=document.documentElement.clientHeight;document.querySelector(".first-desc").getBoundingClientRect().top>200&&(document.querySelector(".first-desc").style.opacity=Math.abs(document.querySelector(".first-desc").getBoundingClientRect().top-t)/300),document.querySelector(".first-desc").getBoundingClientRect().top<200&&document.querySelector(".first-desc").getBoundingClientRect().top>-1e3&&(document.querySelector(".first-desc").style.opacity=(document.querySelector(".first-desc").getBoundingClientRect().top+100)/200),document.querySelectorAll(".anime-dis").forEach(function(e){e.getBoundingClientRect().top-(t-0)<0&&e.classList.add("anime")}),document.querySelectorAll(".anime-right").forEach(function(e){e.getBoundingClientRect().top-(t-0)<0&&e.classList.add("anime")}),document.querySelectorAll(".anime-left").forEach(function(e){e.getBoundingClientRect().top-(t-0)<0&&e.classList.add("anime")}),document.querySelectorAll(".anime-second-dis").forEach(function(e){e.getBoundingClientRect().top-(t-0)<0&&setTimeout(function(){e.classList.add("anime")},250)}),document.querySelectorAll(".white-end").forEach(function(e){e.getBoundingClientRect().top-t/1.8<0?(document.querySelector(".end-desc").style.transition="4.3s ease",document.body.classList.add("wb"),setTimeout(function(){document.querySelector(".end-desc").classList.add("edn-desc-see")},1900)):(document.body.classList.remove("wb"),document.querySelector(".end-desc").classList.remove("edn-desc-see"))})},document.documentElement.clientWidth<900&&alert("Вы используете мобильную версию сайта, не все фичи тут будут работать правильно."),window.onload=function(){function e(e,t,n){return new Promise(o=>{let s=document.querySelector(e),i=t.split(""),l=0;setInterval(function(){Math.random();l<i.length&&s.insertAdjacentHTML("beforeEnd",i[l]),l>=i.length&&o(),l++},n)})}!async function(){await e(".hello","Добро Пожаловать",110),await e(".workshop","В мою библиотеку",90),await function(e){let t=document.querySelector(e),n=t.innerHTML,o=0;setInterval(function(){t.innerHTML=o%2==0?`${n}_`:n,o++},500)}(".workshop")}()},tetrisIsCall=!1,document.querySelectorAll(".btn-compl").forEach(function(e,t,n){e.addEventListener("click",function(t){let o;tetrisIsCall||(t.target.classList.contains("easy")?o=900:t.target.classList.contains("normal")?o=450:t.target.classList.contains("hard")&&(o=225),n.forEach(function(e){e.classList.remove("btn-pressed")}),e.classList.add("btn-pressed"),document.onkeydown=function(e){if([32,37,38,39,40].indexOf(e.keyCode)>-1)return(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1,!1},dirScroll(document.querySelector(".main"),50),startGame(o),tetrisIsCall=!0)})}),drawTetris(),function calculator(){const oneBtn=document.querySelector("#calc-one"),twoBtn=document.querySelector("#calc-two"),threeBtn=document.querySelector("#calc-three"),fourBtn=document.querySelector("#calc-four"),fiveBtn=document.querySelector("#calc-five"),sixBtn=document.querySelector("#calc-six"),sevenBtn=document.querySelector("#calc-seven"),eightBtn=document.querySelector("#calc-eight"),nineBtn=document.querySelector("#calc-nine"),tenBtn=document.querySelector("#calc-ten"),decimalBtn=document.querySelector("#calc-decimal"),clearBtn=document.querySelector("#calc-clear"),backspaceBtn=document.querySelector("#calc-backspace"),displayValElement=document.querySelector("#calc-display-val");let displayVal="0",pendingVal,evalStringArray=[];const calcNumBtns=document.querySelectorAll(".calc-btn-num"),calcOperatorBtns=document.querySelectorAll(".calc-btn-operator");let updateDisplayVal=e=>{let t=e.target.innerText;"0"===displayVal&&(displayVal=""),displayVal+=t,displayValElement.innerText=displayVal},perfomOperation=clickObj=>{switch(clickObj.target.innerText){case"+":pendingVal=displayVal,displayVal="0",displayValElement.innerText=displayVal,evalStringArray.push(pendingVal),evalStringArray.push("+");break;case"-":pendingVal=displayVal,displayVal="0",displayValElement.innerText=displayVal,evalStringArray.push(pendingVal),evalStringArray.push("-");break;case"x":pendingVal=displayVal,displayVal="0",displayValElement.innerText=displayVal,evalStringArray.push(pendingVal),evalStringArray.push("*");break;case"÷":pendingVal=displayVal,displayVal="0",displayValElement.innerText=displayVal,evalStringArray.push(pendingVal),evalStringArray.push("/");break;case"=":evalStringArray.push(displayVal);let evaluation=eval(evalStringArray.join(" "));displayVal=evaluation+"",displayValElement.innerText=displayVal,evalStringArray=[]}};calcNumBtns.forEach(function(e){e.addEventListener("click",updateDisplayVal,!1)}),calcOperatorBtns.forEach(function(e){e.addEventListener("click",perfomOperation,!1)}),clearBtn.onclick=(()=>{displayVal="0",pendingVal=void 0,evalStringArray=[],displayValElement.innerHTML=displayVal}),backspaceBtn.onclick=(()=>{let e=displayVal.length;""===(displayVal=displayVal.slice(0,e-1))&&(displayVal="0"),displayValElement.innerText=displayVal}),decimalBtn.onclick=(()=>{displayVal.includes(".")||(displayVal+=".")})}();let snakeIsOn=!1,snakeIsRepeat=!1;document.querySelectorAll(".btn-compl-snake").forEach(function(e,t,n){e.addEventListener("click",function(t){if(!snakeIsOn){let o=0;t.target.classList.contains("easy")?o=275:t.target.classList.contains("normal")?o=225:t.target.classList.contains("hard")&&(o=150),dirScroll(document.querySelector(".snake-main"),150),n.forEach(function(e){e.classList.remove("btn-pressed-snake")}),e.classList.add("btn-pressed-snake"),document.onkeydown=function(e){if([32,37,38,39,40].indexOf(e.keyCode)>-1)return(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1,!1},snakeIsRepeat&&(snakeGame.remove(),snakeGame.create()),snakeGame.start(o),snakeIsOn=!0}})});class Snake{constructor(){}create(){let e=document.createElement("div");document.querySelector(".snake-main").appendChild(e),e.classList.add("field-snake");for(let t=1;t<101;t++){let t=document.createElement("div");e.appendChild(t),t.classList.add("excel-snake")}let t=document.querySelectorAll(".excel-snake"),n=1,o=10;for(let e=0;e<t.length;e++)n>10&&(n=1,o--),t[e].setAttribute("posx-Snake",n),t[e].setAttribute("posy-Snake",o),n++;let s=[Math.round(7*Math.random()+3),Math.round(9*Math.random()+1)];this._snakeBody=[document.querySelector('[posx-Snake = "'+s[0]+'"][posy-Snake = "'+s[1]+'"]'),document.querySelector('[posx-Snake = "'+(s[0]-1)+'"][posy-Snake = "'+s[1]+'"]'),document.querySelector('[posx-Snake = "'+(s[0]-2)+'"][posy-Snake = "'+s[1]+'"]')];let i,l=this._snakeBody;for(let e=0;e<l.length;e++)l[e].classList.add("snakeBody");l[0].classList.add("head"),function(){function e(){return[Math.round(7*Math.random()+3),Math.round(9*Math.random()+1)]}let t=e();for(i=document.querySelector('[posx-Snake = "'+t[0]+'"][posy-Snake = "'+t[1]+'"]');i.classList.contains("snakeBody");){let t=e();i=document.querySelector('[posx-Snake = "'+t[0]+'"][posy-Snake = "'+t[1]+'"]')}i.classList.add("mouse")}(),this._mouse=i}remove(){document.querySelector(".field-snake").remove()}start(e){let t=this._snakeBody,n=this._mouse,o="right",s=!1;let i=document.querySelector(".input-snake"),l=0;i.value=`Ваш счет: ${l}`;let r=setInterval(function(){let e=[t[0].getAttribute("posx-Snake"),t[0].getAttribute("posy-Snake")];if(t[0].classList.remove("head"),t[t.length-1].classList.remove("snakeBody"),t.pop(),"right"==o?e[0]<10?t.unshift(document.querySelector('[posx-Snake = "'+(+e[0]+1)+'"][posy-Snake = "'+e[1]+'"]')):t.unshift(document.querySelector('[posx-Snake = "1"][posy-Snake = "'+e[1]+'"]')):"left"==o?e[0]>1?t.unshift(document.querySelector('[posx-Snake = "'+(+e[0]-1)+'"][posy-Snake = "'+e[1]+'"]')):t.unshift(document.querySelector('[posx-Snake = "10"][posy-Snake = "'+e[1]+'"]')):"up"==o?e[1]<10?t.unshift(document.querySelector('[posx-Snake = "'+e[0]+'"][posy-Snake = "'+(+e[1]+1)+'"]')):t.unshift(document.querySelector('[posx-Snake = "'+e[0]+'"][posy-Snake = "1"]')):"down"==o&&(e[1]>1?t.unshift(document.querySelector('[posx-Snake = "'+e[0]+'"][posy-Snake = "'+(e[1]-1)+'"]')):t.unshift(document.querySelector('[posx-Snake = "'+e[0]+'"][posy-Snake = "10"]'))),t[0].getAttribute("posx-Snake")==n.getAttribute("posx-Snake")&&t[0].getAttribute("posy-Snake")==n.getAttribute("posY-Snake")){n.classList.remove("mouse");let e=t[t.length-1].getAttribute("posx-Snake"),o=t[t.length-1].getAttribute("posy-Snake");t.push(document.querySelector('[posx-Snake = "'+e+'"][posy-Snake = "'+o+'"]')),function(){function e(){return[Math.round(7*Math.random()+3),Math.round(9*Math.random()+1)]}let t=e();for(n=document.querySelector('[posx-Snake = "'+t[0]+'"][posy-Snake = "'+t[1]+'"]');n.classList.contains("snakeBody");){let t=e();n=document.querySelector('[posx-Snake = "'+t[0]+'"][posy-Snake = "'+t[1]+'"]')}n.classList.add("mouse")}(),l++,i.value=`Ваш счёт: ${l}`}t[0].classList.contains("snakeBody")&&(setTimeout(()=>{alert(` Игра окончена. Ваш счёт: ${l}`)},300),clearInterval(r),t[0].style.background="url(img/_src/snakeDead.jpg) center no-repeat",t[0].style.backgroundSize="cover",document.onkeydown=null,snakeIsOn=!1,snakeIsRepeat=!0),t[0].classList.add("head");for(let e=0;e<t.length;e++)t[e].classList.add("snakeBody");s=!0},e);window.addEventListener("keydown",function(e){1==s&&(37==e.keyCode&&"right"!=o?(o="left",s=!1):38==e.keyCode&&"down"!=o?(o="up",s=!1):39==e.keyCode&&"left"!=o?(o="right",s=!1):40==e.keyCode&&"up"!=o&&(o="down",s=!1))})}}let snakeGame=new Snake;function clothSimulation(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};let e=5,t=400,n=24,o=50,s=8,i=60,l=.99,r=.5,c=document.querySelector(".canvas"),a=c.getContext("2d");c.width=Math.min(550,window.innerWidth),c.height=400,a.strokeStyle="#fff";let u={cut:8,influence:36,down:!1,button:1,x:0,y:0,px:0,py:0};class d{constructor(e,t){this.x=e,this.y=t,this.px=e,this.py=t,this.vx=0,this.vy=0,this.pinX=null,this.pinY=null,this.constraints=[]}update(e){if(this.pinX&&this.pinY)return this;if(u.down){let e=this.x-u.x,t=this.y-u.y,n=Math.sqrt(e*e+t*t);1===u.button&&n<u.influence?(this.px=this.x-(u.x-u.px),this.py=this.y-(u.y-u.py)):n<u.cut&&(this.constraints=[])}this.addForce(0,t);let n=this.x+(this.x-this.px)*l+this.vx*e,o=this.y+(this.y-this.py)*l+this.vy*e;return this.px=this.x,this.py=this.y,this.x=n,this.y=o,this.vy=this.vx=0,this.x>=c.width?(this.px=c.width+(c.width-this.px)*r,this.x=c.width):this.x<=0&&(this.px*=-1*r,this.x=0),this.y>=c.height?(this.py=c.height+(c.height-this.py)*r,this.y=c.height):this.y<=0&&(this.py*=-1*r,this.y=0),this}draw(){let e=this.constraints.length;for(;e--;)this.constraints[e].draw()}resolve(){if(this.pinX&&this.pinY)return this.x=this.pinX,void(this.y=this.pinY);this.constraints.forEach(e=>e.resolve())}attach(e){this.constraints.push(new p(this,e))}free(e){this.constraints.splice(this.constraints.indexOf(e),1)}addForce(e,t){this.vx+=e,this.vy+=t}pin(e,t){this.pinX=e,this.pinY=t}}class p{constructor(e,t){this.p1=e,this.p2=t,this.length=s}resolve(){let e=this.p1.x-this.p2.x,t=this.p1.y-this.p2.y,n=Math.sqrt(e*e+t*t);if(n<this.length)return;let o=(this.length-n)/n;n>i&&this.p1.free(this);let s=.5*o*(1-this.length/n),l=e*s,r=t*s;return!this.p1.pinX&&(this.p1.x+=l),!this.p1.pinY&&(this.p1.y+=r),!this.p2.pinX&&(this.p2.x-=l),!this.p2.pinY&&(this.p2.y-=r),this}draw(){a.moveTo(this.p1.x,this.p1.y),a.lineTo(this.p2.x,this.p2.y)}}class h{constructor(e){this.points=[];let t=c.width/2-o*s/2;for(let i=0;i<=n;i++)for(let n=0;n<=o;n++){let l=new d(t+n*s,20+i*s);!e&&0===i&&l.pin(l.x,l.y),0!==n&&l.attach(this.points[this.points.length-1]),0!==i&&l.attach(this.points[n+(i-1)*(o+1)]),this.points.push(l)}}update(t){let n=e;for(;n--;)this.points.forEach(e=>{e.resolve()});a.beginPath(),this.points.forEach(e=>{e.update(t*t).draw()}),a.stroke()}}function m(e){let t=c.getBoundingClientRect();u.px=u.x,u.py=u.y,u.x=e.clientX-t.left,u.y=e.clientY-t.top}c.onmousedown=(e=>{u.button=e.which,u.down=!0,m(e)}),c.onmousemove=m,c.onmouseup=(()=>u.down=!1),c.oncontextmenu=(e=>e.preventDefault());let y=new h;!function e(t){a.clearRect(0,0,c.width,c.height),y.update(.016),window.requestAnimFrame(e)}()}function substr2(e,t){let n,o,s,i;e.length>=t.length?(n=e,o=t):(n=t,o=e),s=n.length,i=o.length;let l=Array.from({length:i+1},()=>Array.from({length:s+1},()=>0));for(let e=1;e<l.length;e++)for(let t=1;t<l[e].length;t++)n[t-1]==o[e-1]?l[e][t]=l[e-1][t-1]+1:l[e][t]=Math.max(l[e][t-1],l[e-1][t]);let r=[];return function e(t,o){0!==l[t][o]&&(l[t][o]===l[t][o-1]?e(t,o-1):l[t][o]===l[t-1][o]?e(t-1,o):l[t][o]===l[t-1][o-1]+1&&(r.push(n[o-1]),e(t-1,o-1)))}(i,s),r.reverse().join("")}snakeGame.create(),clothSimulation(),document.querySelector(".btn-compl-cloth").onclick=function(){let e=document.querySelector(".canvas").cloneNode();document.querySelector(".canvas").remove(),document.querySelector(".canvas-place").appendChild(e),clothSimulation()},document.querySelector(".tetris-section").onselectstart=function(){return!1},document.querySelector(".cloth-section").onselectstart=function(){return!1},document.querySelector(".calculator-section").onselectstart=function(){return!1},document.querySelector(".snake-section").onselectstart=function(){return!1},document.querySelector(".output-google").value=substr2("AGGTABBPOB","GXTXAYBQAB"),document.querySelector(".btn-compl-google").onclick=function(){let e=document.querySelector(".google-input-1").value,t=document.querySelector(".google-input-2").value;document.querySelector(".output-google").value=substr2(e,t)};let lighting=()=>{const e=2*Math.PI,t=document.createElement("canvas");t.classList.add("light");const n=t.getContext("2d");let o=t.width=document.querySelector(".lightning-section .container").clientWidth-150,s=t.height=o/16*9,i="#000",l=0,r=0,c=0,a=[],u=3;const d=2,p=6;let h=700;class m{constructor(e,t){this.x=e||Math.random()*o,this.y=t||Math.random()*s}draw(t,o){this.x=t||this.x,this.y=o||this.y,n.lineWidth=1,n.fillStyle="white",n.strokeStyle="white",n.beginPath(),n.arc(this.x,this.y,6,0,e),n.closePath(),n.fill(),n.beginPath(),n.arc(this.x,this.y,28,0,e),n.closePath(),n.stroke()}}function y(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}t.onmousemove=(e=>{l=e.x-t.getBoundingClientRect().x,r=e.y-t.getBoundingClientRect().y}),window.onkeydown=(()=>{c==a.length-1?c=0:c++}),function(){t.style.background=i,document.querySelector(".lightning").appendChild(t);for(let e=0;e<u;e++)a.push(new m)}(),function e(){n.clearRect(0,0,o,s),function(){for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){let o=y(a[e],a[t]);if(o/h>Math.random())continue;let s=o/d,i=a[e].x,l=a[e].y;n.lineWidth=2.5,n.strokeStyle="aqua",n.beginPath(),n.moveTo(a[e].x,a[e].y);for(let r=s;r>1;r--){let s=y(a[e],{x:i,y:l}),c=Math.sin(s/o*Math.PI)*p;i+=(a[t].x-i)/r+Math.random()*c*2-c,l+=(a[t].y-l)/r+Math.random()*c*2-c,n.lineTo(i,l)}n.stroke()}}(),a.map(e=>{e==a[c]?e.draw(l,r):e.draw()}),requestAnimationFrame(e)}()};lighting(),function(){let e=new Set,t={},n=[];for(let n=0;e.size<3312;n++){let o=[];const s=5+n%3;for(let e=0;e<s;e++){let t=n+4*e;t%2==0&&(t*=6),t%2==1&&(t*=2),o.push(t)}e.add(o.join("")),t[o.join("")]=n}e.forEach(e=>n.push(e)),document.querySelector(".encoder-get").onclick=(()=>{let e=[];document.querySelector(".encoder-input").value.split("").forEach((t,o)=>{indexInMainArray=3*t.charCodeAt()+Math.floor(3*Math.random()+1),e.push(n[indexInMainArray-1])}),document.querySelector(".encoder-output").value=e.join("")}),document.querySelector(".decoder-get").onclick=(()=>decoder());let o=[];decoder=(()=>{const e=document.querySelector(".encoder-output").value.split("");let n=[];o=[],e.forEach(e=>{if(n.push(e),t[n.join("")]){let e=Math.floor(t[n.join("")]/3);return o.push(String.fromCharCode(e)),void(n=[])}}),document.querySelector(".decoder-input").value=o.join("")})}();